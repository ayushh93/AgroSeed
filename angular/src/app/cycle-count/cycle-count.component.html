<div class="card">
    <div class="card-header">
        <div class="row align-items-center">
            <div class="col col-6">
                <h5 class="card-title">{{ '::Filter' | abpLocalization}}</h5>
            </div>
            <div class="col col-6 text-end">
                <i class="fa fa-filter" (click)="toggleFilter()"></i>
            </div>
        </div>
    </div>
    <div [ngClass]="showFilter ? '' : 'd-none'" class="card-body">

    </div>
</div>

<div class="card">
    <div class="card-header">
        <div class="row align-items-center">
            <div class="col col-6">
                <h5 class="card-title">{{ '::Menu:CycleCounts' | abpLocalization}}</h5>
            </div>
            <div class="col col-6 text-end">
                <button class="btn btn-primary" type="button" (click)="request()"
                    *abpPermission="'BishalAgroSeed.CycleCounts'">{{'::Request' | abpLocalization}}</button>
            </div>
        </div>
    </div>
    <div class="card-body">
        <ngx-datatable [rows]="data.items" [count]="data.totalCount" [list]="list" default>
            <ngx-datatable-column [name]="'::Actions' | abpLocalization" [maxWidth]="150" [sortable]="false">
                <ng-template let-row="row" ngx-datatable-cell-template>
                    <div ngbDropdown container="body" class="d-inline-block">
                        <button class="btn btn-warning btn-sm dropdown-toggle" data-toggle="dropdown"
                            aria-haspopup="true" ngbDropdownToggle>
                            <i class="fa fa-cog me-1"></i> {{'::Actions' | abpLocalization}}
                        </button>
                        <div ngbDropdownMenu>
                            <div *ngIf="row.isclosed">
                                <button (click)="viewDetails(row.id)" ngbDropdownItem
                                    *abpPermission="'BishalAgroSeed.CycleCounts'">
                                    {{'::ViewDetails' | abpLocalization}}
                                </button>
                            </div>
                            <div *ngIf="!row.isclosed">
                                <button (click)="modify(row.id)" ngbDropdownItem
                                    *abpPermission="'BishalAgroSeed.CycleCounts.Edit'">
                                    {{'::Modify' | abpLocalization}}
                                </button>
                                <button (click)="close(row.id)" ngbDropdownItem
                                    *abpPermission="'BishalAgroSeed.CycleCounts.Close'">
                                    {{ '::Close' | abpLocalization}}
                                </button>
                            </div>
                        </div>
                    </div>
                </ng-template>
            </ngx-datatable-column>
            <ngx-datatable-column [name]="'::CCINumber' | abpLocalization" prop="cciNumber"></ngx-datatable-column>
            <ngx-datatable-column [name]="'::IsClosed' | abpLocalization" prop="isclosed"></ngx-datatable-column>
            <ngx-datatable-column [name]="'::ClosedDate' | abpLocalization" prop="closedDate">
                <ng-template let-row="row" ngx-datatable-cell-template>
                    {{ row.closedDate | date : 'YYYY/MM/dd' }}
                </ng-template></ngx-datatable-column>
            <ngx-datatable-column [name]="'::ClosedByName' | abpLocalization"
                prop="closedByName"></ngx-datatable-column>
            <ngx-datatable-column [name]="'::CreationOn' | abpLocalization" prop="creationOn">
                <ng-template let-row="row" ngx-datatable-cell-template>
                    {{ row.creationOn | date : 'YYYY/MM/dd' }}
                </ng-template></ngx-datatable-column>
        </ngx-datatable>
    </div>
</div>